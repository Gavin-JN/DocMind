# DocMind - 智能文档问答系统

> 基于 Spring Boot + LangChain4j 的智能问答平台，支持知识库管理和 AI 对话

## 📋 项目简介

DocMind 是一个智能文档问答系统，允许用户上传文档、音频等多样化的知识源，通过向量嵌入和检索增强生成（RAG）技术，为用户提供基于知识库的智能问答服务。

## ✨ 核心功能

### 1. 💬 双模式智能对话

- **本地模式**: 基于上传的知识库进行准确回答，适合特定领域知识问答
- **在线模式**: 使用阿里云通义千问大模型进行通用对话
- **流式响应**: 实时展示 AI 回答过程，提供流畅的交互体验
- **会话记忆**: 自动保存对话历史，支持多轮对话

### 2. 📚 多元化知识库管理

**多种知识上传方式**:

- 📄 **文档上传**: 支持 PDF、Word、TXT 等多种格式文档解析
- ✏️ **文本输入**: 直接在界面输入文本内容
- 🗂️ **路径添加**: 通过服务器文件路径添加内容
- 🎤 **音频转文字**: 上传音频文件，自动转写为文字并学习（基于通义听悟）

**知识处理能力**:

- 向量化存储（使用 Pinecone 向量数据库）
- 语义检索和相似度匹配
- 支持中文分词和语义理解

### 3. 🔐 用户管理系统

- 用户注册与登录认证
- 会话状态管理
- 个人知识库隔离
- 安全退出功能

### 4. 🎨 现代化交互界面

- 类 ChatGPT 的流畅交互体验
- 响应式设计，适配多种设备
- 深色模式支持
- 实时状态提示与动画效果

## 🛠️ 技术架构

### 后端技术栈

- **Spring Boot 3.5.6**: 主框架
- **LangChain4j 1.1.0**: AI 应用框架
- **阿里云通义千问**: 大语言模型
- **通义听悟**: 音频转文字服务
- **MongoDB**: 聊天记忆存储
- **MySQL**: 用户和知识库数据存储
- **Pinecone**: 向量数据库（知识向量化存储）
- **MyBatis Plus**: ORM 框架
- **Apache PDFBox**: PDF 文档解析
- **POI**: Word 文档解析

### 前端技术栈

- HTML5 + CSS3 + JavaScript ES6+
- Thymeleaf 模板引擎
- Font Awesome 图标库
- LocalStorage 本地存储

## 🚀 快速开始

### 环境要求

- JDK 17+
- Maven 3.6+
- MySQL 8.0+
- MongoDB 4.0+

### 启动步骤

1. **克隆项目**

```bash
git clone [repository-url]
cd DocMind
```

2. **配置数据库**
   修改 `src/main/resources/application.properties` 中的数据库连接配置

3. **启动应用**

```bash
# 方式一：使用 Maven
mvn spring-boot:run

# 方式二：使用提供的启动脚本
# Windows
start.bat

# Linux/Mac
./start.sh
```

4. **访问应用**
   打开浏览器访问: `http://localhost:8080`

## 📖 使用指南

### 1. 注册登录

首次使用需要注册账户，创建账户后登录系统

### 2. 上传知识库

- 点击侧边栏"上传文件"按钮，选择支持的文档格式上传
- 或在文本框中直接输入内容，点击"添加文本"
- 支持上传音频文件，自动转换为文字并学习

### 3. 开始对话

- 在输入框输入问题，按 `Enter` 发送
- 在侧边栏选择对话模式（本地模式/在线模式）
- AI 会基于知识库或在线模型回答你的问题

### 4. 快捷键

- `Enter`: 发送消息
- `Shift + Enter`: 换行

## 📝 功能详解

### 知识库上传

- **支持格式**: PDF、Word、TXT、音频文件
- **处理能力**: 自动解析文档内容，提取文本，向量化存储
- **检索原理**: 使用语义相似度匹配最相关的知识片段

### 智能问答

- **本地模式**: 从知识库中检索相关内容，结合 AI 生成回答
- **在线模式**: 直接使用在线 AI 模型进行对话
- **记忆机制**: 自动保存对话历史，支持上下文理解

## ⚠️ 注意事项

1. **文件大小限制**: 建议单个文件不超过 10MB
2. **网络要求**: 在线模式需要稳定的网络连接
3. **浏览器兼容**: 建议使用 Chrome、Firefox、Safari、Edge 等现代浏览器
4. **配置要求**: 需要配置阿里云相关的 API Key

## 🐛 故障排除

| 问题       | 解决方案                           |
| ---------- | ---------------------------------- |
| 登录失败   | 检查用户名密码，确认数据库连接正常 |
| 上传失败   | 确认文件格式支持，文件大小在限制内 |
| 对话无响应 | 检查网络连接，确认 API 配置正确    |
| 页面异常   | 清除浏览器缓存，刷新页面           |

## 📞 技术支持

如有问题，请查看项目日志或提交 Issue。

## 📄 许可证

本项目采用 MIT 许可证
